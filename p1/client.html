<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ููุญุฉ ุงูุนููู | ูุญูุฏ ุฌูุนุฉ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <link rel="stylesheet" href="css/main.css">

  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <script src="js/firebase-config.js"></script>
  <script src="js/auth.js"></script>
</head>
<body class="dashboard-page panel-layout">
<div class="panel-shell">
  <aside class="panel-sidebar">
    <div class="panel-brand">ููุญุฉ <span>ุงูุนููู</span></div>
    <div class="panel-side-profile">
      <div class="side-avatar">
        <img id="client-side-avatar-img" class="side-avatar-img hidden" src="" alt="ุตูุฑุฉ ุงูุนููู">
        <i id="client-side-avatar-fallback" class="fas fa-user"></i>
      </div>
      <p id="client-side-name">ุงูุนููู</p>
      <p id="client-side-role" class="small-text">ุญุณุงุจ ุนููู</p>
    </div>
    <nav class="panel-side-nav">
      <a href="index.html"><i class="fas fa-house"></i><span>ุงูุฑุฆูุณูุฉ</span></a>
      <a href="#overview"><i class="fas fa-chart-pie"></i><span>ุงูููุฎุต</span></a>
      <a href="#services-catalog"><i class="fas fa-briefcase"></i><span>ุงูุฎุฏูุงุช</span></a>
      <a href="#packages-catalog"><i class="fas fa-box"></i><span>ุงูุจุงูุงุช</span></a>
      <a href="#subscriptions"><i class="fas fa-layer-group"></i><span>ุงุดุชุฑุงูุงุชู</span></a>
      <a href="#invoices"><i class="fas fa-file-invoice"></i><span>ุงูููุงุชูุฑ</span></a>
      <a href="#mailbox"><i class="fas fa-envelope"></i><span>ุตูุฏูู ุงูุจุฑูุฏ</span></a>
      <a href="#service-request"><i class="fas fa-file-circle-plus"></i><span>ุทูุจ ุฎุฏูุฉ</span></a>
      <a href="#profile"><i class="fas fa-id-card"></i><span>ุจูุงูุงุชู</span></a>
      <button class="panel-side-logout" type="button" data-logout><i class="fas fa-right-from-bracket"></i><span>ุชุณุฌูู ุงูุฎุฑูุฌ</span></button>
    </nav>
    <div class="panel-side-footer">Sinai Digital Web</div>
  </aside>

  <div class="panel-main">
    <header class="panel-topbar">
      <div class="panel-search">
        <i class="fas fa-magnifying-glass"></i>
        <input id="client-panel-search" type="search" placeholder="ุงุจุญุซ ุฏุงุฎู ููุญุฉ ุงูุนููู...">
      </div>
      <div class="panel-top-actions">
        <div class="notify-menu">
          <button id="client-notify-btn" class="theme-toggle notify-toggle" type="button" aria-label="ุงูุชูุจููุงุช" aria-expanded="false">
            <span aria-hidden="true">๐</span>
            <span id="client-notify-count" class="notify-count">0</span>
          </button>
          <div id="client-notify-dropdown" class="notify-dropdown"></div>
        </div>

        <button id="theme-toggle" class="theme-toggle" type="button">โ๏ธ</button>
        <button id="lang-toggle" class="lang-toggle" type="button" aria-label="Language toggle">AR | EN</button>

        <div class="user-menu dashboard-user-menu">
          <button id="client-user-menu-toggle" class="user-menu-toggle" type="button" aria-expanded="false">
            <img id="client-avatar-img" class="user-avatar-img hidden" src="" alt="ุตูุฑุฉ ุงูุนููู">
            <span id="client-avatar-fallback" class="user-avatar-fallback"><i class="fas fa-user"></i></span>
            <span id="client-display-name" class="user-display-name">ุงูุนููู</span>
            <i class="fas fa-chevron-down"></i>
          </button>
          <div id="client-user-dropdown" class="user-dropdown">
            <button class="user-dropdown-item" type="button" data-client-jump="#overview"><i class="fas fa-chart-pie"></i><span>ุงูููุฎุต</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#services-catalog"><i class="fas fa-briefcase"></i><span>ุงูุฎุฏูุงุช</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#packages-catalog"><i class="fas fa-box"></i><span>ุงูุจุงูุงุช</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#subscriptions"><i class="fas fa-layer-group"></i><span>ุงุดุชุฑุงูุงุชู</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#invoices"><i class="fas fa-file-invoice"></i><span>ุงูููุงุชูุฑ</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#mailbox"><i class="fas fa-envelope"></i><span>ุตูุฏูู ุงูุจุฑูุฏ</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#service-request"><i class="fas fa-file-circle-plus"></i><span>ุทูุจ ุฎุฏูุฉ</span></button>
            <button class="user-dropdown-item" type="button" data-client-jump="#profile"><i class="fas fa-id-card"></i><span>ุจูุงูุงุชู</span></button>
            <button id="logout-btn" class="user-dropdown-item danger" type="button" data-logout><i class="fas fa-right-from-bracket"></i><span>ุชุณุฌูู ุงูุฎุฑูุฌ</span></button>
          </div>
        </div>
      </div>
    </header>

    <main class="panel-content">
      <section id="overview" class="dashboard-section">
        <h2 class="section-title small">ูุธุฑุฉ ุณุฑูุนุฉ</h2>
        <div class="stats-grid dashboard">
          <div class="stat-card"><div class="stat-number" id="stat-projects">0</div><div class="stat-label">ุงุดุชุฑุงูุงุชู</div></div>
          <div class="stat-card"><div class="stat-number" id="stat-active">0</div><div class="stat-label">ููุฏ ุงูุชูููุฐ</div></div>
          <div class="stat-card"><div class="stat-number" id="stat-completed">0</div><div class="stat-label">ุชู ุงูุชูููุฐ</div></div>
          <div class="stat-card"><div class="stat-number" id="stat-unpaid">0</div><div class="stat-label">ููุงุชูุฑ ูุณุชุญูุฉ</div></div>
        </div>
        <div id="client-alerts" class="alerts-grid"></div>
      </section>

      <section id="services-catalog" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุงูุฎุฏูุงุช ุงููุชุงุญุฉ</h2>
        </div>
        <div id="services-catalog-list" class="cards-list"></div>
      </section>

      <section id="packages-catalog" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุงูุจุงูุงุช ุงููุชุงุญุฉ</h2>
        </div>
        <div id="packages-catalog-list" class="cards-list"></div>
      </section>

      <section id="subscriptions" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุงุดุชุฑุงูุงุชู</h2>
        </div>
        <div id="subscriptions-list" class="cards-list"></div>
      </section>

      <section id="invoices" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุงูููุงุชูุฑ</h2>
        </div>
        <div class="table-wrapper">
          <table class="table" id="invoices-table">
            <thead>
              <tr>
                <th>ุฑูู ุงููุงุชูุฑุฉ</th>
                <th>ุงููุดุฑูุน</th>
                <th>ุงููุจูุบ</th>
                <th>ุงูุญุงูุฉ</th>
                <th>ุชุงุฑูุฎ ุงูุงุณุชุญูุงู</th>
                <th>ุฅุฌุฑุงุก</th>
              </tr>
            </thead>
            <tbody><tr><td colspan="6" class="muted center">ุฌุงุฑู ุงูุชุญููู...</td></tr></tbody>
          </table>
        </div>
      </section>

      <section id="mailbox" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุตูุฏูู ุงูุจุฑูุฏ</h2>
        </div>
        <div class="mailbox-tools">
          <input id="mailbox-search" class="table-input mailbox-search-input" type="search" placeholder="ุจุญุซ ูู ุงูุฑุณุงุฆู...">
        </div>
        <div id="mailbox-list" class="cards-list"></div>
      </section>

      <section id="service-request" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุทูุจ ุฎุฏูุฉ ุฌุฏูุฏ</h2>
        </div>
        <form id="service-request-form" class="card request-form-grid">
          <input type="text" id="request-service-details" placeholder="ุชูุงุตูู ุงูุฎุฏูุฉ ุงููุทููุจุฉ" required>
          <input type="text" id="request-content-type" placeholder="ููุน ุงููุญุชูู ุงููุทููุจ" required>
          <input type="url" id="request-website-link" placeholder="ุฑุงุจุท ุงููููุน (ุงุฎุชูุงุฑู)">
          <input type="text" id="request-phone" placeholder="ุฑูู ุงููุงุชู" required>
          <input type="email" id="request-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" required>
          <textarea id="request-notes" rows="4" placeholder="ููุงุญุธุงุช ุฅุถุงููุฉ"></textarea>
          <button class="btn btn-primary" type="submit">ุฅุฑุณุงู ุงูุทูุจ</button>
        </form>
        <p id="service-request-message" class="small-text"></p>
      </section>

      <section id="profile" class="dashboard-section">
        <div class="section-header">
          <h2 class="section-title small">ุชุนุฏูู ุจูุงูุงุชู</h2>
        </div>
        <form id="profile-form" class="card client-profile-grid">
          <input type="text" id="profile-name" placeholder="ุงูุงุณู ุงููุงูู" required>
          <input type="email" id="profile-email" placeholder="ุงูุจุฑูุฏ ุงูุฅููุชุฑููู" readonly>
          <input type="text" id="profile-phone" placeholder="ุฑูู ุงููุงุชู">
          <input type="text" id="profile-company" placeholder="ุงุณู ุงูุดุฑูุฉ">
          <input type="text" id="profile-job" placeholder="ุงูุนูู / ุงููุณูู ุงููุธููู">
          <input type="text" id="profile-address" placeholder="ุงูุนููุงู">
          <select id="profile-payment-method">
            <option value="">ูุณููุฉ ุงูุฏูุน ุงูููุถูุฉ</option>
            <option value="vodafone_wallet">ูุญูุธุฉ ููุฏุงููู</option>
            <option value="orange_wallet">ูุญูุธุฉ ุฃูุฑูุฌ</option>
            <option value="etisalat_wallet">ูุญูุธุฉ ุงุชุตุงูุงุช</option>
            <option value="wepay_wallet">ูุญูุธุฉ WE Pay</option>
            <option value="instapay">InstaPay</option>
            <option value="postal_transfer">ุญูุงูุฉ ุจุฑูุฏูุฉ</option>
            <option value="bank_account">ุญุณุงุจ ุจููู</option>
          </select>
          <div class="payment-icons-row">
            <span title="ูุญูุธุฉ ููุจุงูู"><i class="fas fa-mobile-screen-button"></i></span>
            <span title="InstaPay"><i class="fas fa-bolt"></i></span>
            <span title="ุญูุงูุฉ ุจุฑูุฏูุฉ"><i class="fas fa-envelopes-bulk"></i></span>
            <span title="ุญุณุงุจ ุจููู"><i class="fas fa-building-columns"></i></span>
          </div>
          <input type="url" id="profile-image-url" placeholder="ุฑุงุจุท ุตูุฑุฉ ุงูุจุฑููุงูู (https://...)">
          <button class="btn btn-primary" type="submit">ุญูุธ</button>
        </form>
        <p id="profile-message" class="small-text"></p>
      </section>
    </main>
  </div>
</div>

<div id="invoice-modal" class="modal">
  <div class="modal-content invoice-modal-content">
    <button class="modal-close" id="close-invoice-modal">ร</button>
    <h3 class="modal-title">ุชูุงุตูู ุงููุงุชูุฑุฉ</h3>
    <div id="invoice-preview" class="invoice-preview"></div>
    <div class="card-actions">
      <button id="print-invoice-btn" class="btn btn-primary btn-xs" type="button">ุทุจุงุนุฉ ุงููุงุชูุฑุฉ</button>
    </div>
  </div>
</div>

<div id="mailbox-modal" class="modal">
  <div class="modal-content mailbox-modal-content">
    <button class="modal-close" id="close-mailbox-modal">ร</button>
    <div class="mailbox-print-head">
      <img id="mailbox-site-logo" class="mailbox-site-logo hidden" src="" alt="Logo">
      <div>
        <h3 id="mailbox-site-name" class="modal-title">Sinai Digital Web</h3>
        <p class="small-text">ุตูุฏูู ุงูุจุฑูุฏ</p>
      </div>
    </div>
    <div id="mailbox-message-preview" class="mailbox-message-preview"></div>
    <div class="mailbox-signature">
      <span>ุงูุชูููุน:</span>
      <strong id="mailbox-admin-signature">ุฅุฏุงุฑุฉ ุงููููุน</strong>
    </div>
    <div id="mailbox-reply-composer" class="mailbox-reply-composer hidden">
      <label for="mailbox-reply-text" class="small-text">ูุต ุงูุฑุฏ ูููุฏูุฑ</label>
      <textarea id="mailbox-reply-text" rows="4" placeholder="ุงูุชุจ ุฑุฏู ููุง..."></textarea>
      <div class="card-actions">
        <button id="mailbox-send-reply-btn" class="btn btn-primary btn-xs" type="button">ุฅุฑุณุงู ุงูุฑุฏ</button>
        <button id="mailbox-cancel-reply-btn" class="btn btn-outline btn-xs" type="button">ุฅูุบุงุก</button>
      </div>
    </div>
    <div class="card-actions mailbox-modal-actions">
      <button id="mailbox-reply-btn" class="btn btn-outline btn-xs" type="button">ุฑุฏ ูููุฏูุฑ</button>
      <button id="mailbox-delete-btn" class="btn btn-outline btn-xs" type="button">ุญุฐู</button>
      <button id="mailbox-print-btn" class="btn btn-primary btn-xs" type="button">ุทุจุงุนุฉ</button>
    </div>
  </div>
</div>

<script src="js/client-dashboard.js"></script>
</body>
</html>
